{"ast":null,"code":"var _jsxFileName = \"/home/johnlemon/portfolio/src/components/extra_functions/DecryptedText.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DEFAULT_CHARSET = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%&*()_+-=[]{};:\\'\",.<>/?';\nexport default function DecryptedText({\n  text,\n  // <- palabra final\n  encryptedText,\n  // <- palabra inicial\n  iterations = 10,\n  speed = 35,\n  charset = DEFAULT_CHARSET,\n  className = 'decrypted-text',\n  encryptedClassName = 'encrypted-text',\n  parentClassName = 'decrypted-text-container',\n  ...props\n}) {\n  _s();\n  const [displayChars, setDisplayChars] = useState(() => encryptedText.split(''));\n  const animTokenRef = useRef(0);\n  const hoveringRef = useRef(false);\n\n  // Detecta diferencias entre texto final e inicial\n  const diffIndices = useMemo(() => {\n    const diffs = [];\n    const maxLen = Math.max(text.length, encryptedText.length);\n    for (let i = 0; i < maxLen; i++) {\n      if (text[i] !== encryptedText[i]) diffs.push(i);\n    }\n    return diffs;\n  }, [text, encryptedText]);\n  useEffect(() => {\n    // Si cambian los parámetros, resetea el estado visual\n    animTokenRef.current++;\n    setDisplayChars(encryptedText.split(''));\n  }, [text, encryptedText]);\n  const randomChar = () => charset[Math.floor(Math.random() * charset.length)];\n\n  // Animación forward: encrypted → text\n  const runForward = async token => {\n    for (const idx of diffIndices) {\n      if (animTokenRef.current !== token || !hoveringRef.current) return;\n      for (let j = 0; j < iterations; j++) {\n        if (animTokenRef.current !== token || !hoveringRef.current) return;\n        setDisplayChars(prev => {\n          const cp = [...prev];\n          cp[idx] = randomChar();\n          return cp;\n        });\n        await new Promise(r => setTimeout(r, speed));\n      }\n      if (animTokenRef.current !== token || !hoveringRef.current) return;\n      setDisplayChars(prev => {\n        var _text$idx;\n        const cp = [...prev];\n        cp[idx] = (_text$idx = text[idx]) !== null && _text$idx !== void 0 ? _text$idx : '';\n        return cp;\n      });\n      await new Promise(r => setTimeout(r, speed));\n    }\n  };\n\n  // Animación reverse: text → encrypted\n  const runReverse = async token => {\n    const rev = [...diffIndices].reverse();\n    for (const idx of rev) {\n      if (animTokenRef.current !== token) return;\n      for (let j = 0; j < iterations; j++) {\n        if (animTokenRef.current !== token) return;\n        setDisplayChars(prev => {\n          const cp = [...prev];\n          cp[idx] = randomChar();\n          return cp;\n        });\n        await new Promise(r => setTimeout(r, speed));\n      }\n      if (animTokenRef.current !== token) return;\n      setDisplayChars(prev => {\n        var _encryptedText$idx;\n        const cp = [...prev];\n        cp[idx] = (_encryptedText$idx = encryptedText[idx]) !== null && _encryptedText$idx !== void 0 ? _encryptedText$idx : '';\n        return cp;\n      });\n      await new Promise(r => setTimeout(r, speed));\n    }\n  };\n  const handleEnter = () => {\n    hoveringRef.current = true;\n    const token = ++animTokenRef.current;\n    runForward(token);\n  };\n  const handleLeave = () => {\n    hoveringRef.current = false;\n    const token = ++animTokenRef.current;\n    runReverse(token);\n  };\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    className: parentClassName,\n    onMouseEnter: handleEnter,\n    onMouseLeave: handleLeave,\n    ...props,\n    style: {\n      cursor: 'pointer',\n      display: 'inline-block'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        position: 'absolute',\n        width: 1,\n        height: 1,\n        margin: '-1px',\n        padding: 0,\n        overflow: 'hidden',\n        clip: 'rect(0,0,0,0)'\n      },\n      children: displayChars.join('')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      \"aria-hidden\": \"true\",\n      children: displayChars.map((ch, i) => {\n        const isFinal = ch === text[i];\n        const isEnc = ch === encryptedText[i];\n        const cls = isFinal ? className : encryptedClassName;\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          className: cls,\n          children: ch\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 5\n  }, this);\n}\n_s(DecryptedText, \"OeyqZgh/hgUew0OedzCAKLeRf74=\");\n_c = DecryptedText;\nvar _c;\n$RefreshReg$(_c, \"DecryptedText\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","jsxDEV","_jsxDEV","DEFAULT_CHARSET","DecryptedText","text","encryptedText","iterations","speed","charset","className","encryptedClassName","parentClassName","props","_s","displayChars","setDisplayChars","split","animTokenRef","hoveringRef","diffIndices","diffs","maxLen","Math","max","length","i","push","current","randomChar","floor","random","runForward","token","idx","j","prev","cp","Promise","r","setTimeout","_text$idx","runReverse","rev","reverse","_encryptedText$idx","handleEnter","handleLeave","onMouseEnter","onMouseLeave","style","cursor","display","children","position","width","height","margin","padding","overflow","clip","join","fileName","_jsxFileName","lineNumber","columnNumber","map","ch","isFinal","isEnc","cls","_c","$RefreshReg$"],"sources":["/home/johnlemon/portfolio/src/components/extra_functions/DecryptedText.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from 'react';\n\nconst DEFAULT_CHARSET =\n  'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%&*()_+-=[]{};:\\'\",.<>/?';\n\nexport default function DecryptedText({\n  text,                  // <- palabra final\n  encryptedText,         // <- palabra inicial\n  iterations = 10,\n  speed = 35,\n  charset = DEFAULT_CHARSET,\n  className = 'decrypted-text',\n  encryptedClassName = 'encrypted-text',\n  parentClassName = 'decrypted-text-container',\n  ...props\n}) {\n  const [displayChars, setDisplayChars] = useState(() =>\n    encryptedText.split('')\n  );\n\n  const animTokenRef = useRef(0);\n  const hoveringRef = useRef(false);\n\n  // Detecta diferencias entre texto final e inicial\n  const diffIndices = useMemo(() => {\n    const diffs = [];\n    const maxLen = Math.max(text.length, encryptedText.length);\n    for (let i = 0; i < maxLen; i++) {\n      if (text[i] !== encryptedText[i]) diffs.push(i);\n    }\n    return diffs;\n  }, [text, encryptedText]);\n\n  useEffect(() => {\n    // Si cambian los parámetros, resetea el estado visual\n    animTokenRef.current++;\n    setDisplayChars(encryptedText.split(''));\n  }, [text, encryptedText]);\n\n  const randomChar = () =>\n    charset[Math.floor(Math.random() * charset.length)];\n\n  // Animación forward: encrypted → text\n  const runForward = async (token) => {\n    for (const idx of diffIndices) {\n      if (animTokenRef.current !== token || !hoveringRef.current) return;\n\n      for (let j = 0; j < iterations; j++) {\n        if (animTokenRef.current !== token || !hoveringRef.current) return;\n        setDisplayChars((prev) => {\n          const cp = [...prev];\n          cp[idx] = randomChar();\n          return cp;\n        });\n        await new Promise((r) => setTimeout(r, speed));\n      }\n\n      if (animTokenRef.current !== token || !hoveringRef.current) return;\n      setDisplayChars((prev) => {\n        const cp = [...prev];\n        cp[idx] = text[idx] ?? '';\n        return cp;\n      });\n      await new Promise((r) => setTimeout(r, speed));\n    }\n  };\n\n  // Animación reverse: text → encrypted\n  const runReverse = async (token) => {\n    const rev = [...diffIndices].reverse();\n\n    for (const idx of rev) {\n      if (animTokenRef.current !== token) return;\n\n      for (let j = 0; j < iterations; j++) {\n        if (animTokenRef.current !== token) return;\n        setDisplayChars((prev) => {\n          const cp = [...prev];\n          cp[idx] = randomChar();\n          return cp;\n        });\n        await new Promise((r) => setTimeout(r, speed));\n      }\n\n      if (animTokenRef.current !== token) return;\n      setDisplayChars((prev) => {\n        const cp = [...prev];\n        cp[idx] = encryptedText[idx] ?? '';\n        return cp;\n      });\n      await new Promise((r) => setTimeout(r, speed));\n    }\n  };\n\n  const handleEnter = () => {\n    hoveringRef.current = true;\n    const token = ++animTokenRef.current;\n    runForward(token);\n  };\n\n  const handleLeave = () => {\n    hoveringRef.current = false;\n    const token = ++animTokenRef.current;\n    runReverse(token);\n  };\n\n  return (\n    <span\n      className={parentClassName}\n      onMouseEnter={handleEnter}\n      onMouseLeave={handleLeave}\n      {...props}\n      style={{ cursor: 'pointer', display: 'inline-block' }}\n    >\n      <span\n        style={{\n          position: 'absolute',\n          width: 1,\n          height: 1,\n          margin: '-1px',\n          padding: 0,\n          overflow: 'hidden',\n          clip: 'rect(0,0,0,0)'\n        }}\n      >\n        {displayChars.join('')}\n      </span>\n\n      <span aria-hidden=\"true\">\n        {displayChars.map((ch, i) => {\n          const isFinal = ch === text[i];\n          const isEnc = ch === encryptedText[i];\n          const cls = isFinal ? className : encryptedClassName;\n          return (\n            <span key={i} className={cls}>\n              {ch}\n            </span>\n          );\n        })}\n      </span>\n    </span>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}